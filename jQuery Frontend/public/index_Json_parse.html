<!doctype html>
<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
    <script type="text/javascript" src="/fancybox/jquery.fancybox.pack.js"></script>
    <title>The Marketplace</title>
    <style>
            body{
                text-align: center;
                font-family: arial;
                overflow: auto;

            }
            #button{
                margin:20px;
                font-size:16px;
                font-weight: bold;
                padding:5px 10px;
            }
            #Top_Bar{
                height: 10%;
                font-size: 24px;
                line-height: 60px;
                text-align: center;
                margin: auto;
                background-color: #FFA319;
                color: #fff;
            }

            #leftPane {
                background-color: #FFA319;
                position: fixed;
                float: left;
                font-size:20px;
                width: 15%;
                height: 95%;
                color: #fff;
                }

            #results {
                position: fixed;
                margin-left: -30%;
                font-size: 30px;
            }
            li{
                text-align: left;   
                padding: 10px 10px 10px 10px;
                list-style-type: none;
                }
            #footer{
                height: 30px;
                width: 80%;
                position: fixed;
                bottom: 0;
                margin-left: 10%;
                font-size: 14px;
                line-height: 30px;
                text-align: center;
                background-color: #FFA319;
                color: #fff;
                }
            #blocky{
                background-color: #FFD685;
                width: 25%;
                height: 25%;
                float: left;
                margin-right: 5%;
                margin-top: 10%;
                display: table;
                }
            #bottom {
                clear:both;
                margin-left:0.5%;
                width:85%;
                padding: 3.5%;
                background:gold;
            }
            #listy {
               background-color: #FFD685;
                width: 80%;
                height: 7%;
                float: left;
                margin-right: 5%;
                margin-top: 1%;
                display: table;
               
}
        </style>
</head>
<body>
    <div id="Top_Bar"><a href="/index.html" STYLE="text-decoration:none" color="White">The Marketplace</a></div>
    <div id="leftPane">
    <ul>
    <li>Get and parse sample JSON</li>
    <li>RESET</li>
    <li>SHOW ONE POSTING</li>
    <li>All Postings</li>
    <li>SHOW LIST</li>
    </ul> 
    <!-- <input type="button" value="Get and parse JSON" id="button1" />  <br />
    <input type="button" value="RESET" id="button2" /> <br />
    <input type="button" value="ME" id="button3" />  <br />
    <input type="button" value="GIMME ALL" id="button4" />   <br /> 
    Buttons setup -->

    </div>
    <span id="results"></span>
</script>
    <script>
        $(document).ready(function() {
            var category = []; //titles
            var description = []; //authers
            var author = []; //glats
            var price = []; //glons
            var title = []; //ids
            var date = [];
            $ ( "li" ).click(function () {
                var texti = $(this).text();
                if (texti ==="Get and parse sample JSON") {
                    $.ajax({
                        url: "data.json",
                        dataType: "json",
                        success: function(data) {
                            $('#results').html('Plugin name: ' + data.name + '<br />Author: ' + data.author.name);
                        }
                    });
                }
                else if (texti ==="All Postings") {
                    $.ajax({
                        url: "data2.json",
                        dataType: "text",
                        success: function(data) {
                            /*console.log(data);*/
                            var json = $.parseJSON(data);
                            var count1 = Object.keys(json).length;
                            console.log(count1);
                            var str = '<a href="/posting_detait_1.json" class="fancybox" data-fancybox-type="ajax">';
                            for (var i=0;i<count1;i++)
                            {
                              str += '<div id="blocky">Post 1:  ' + json[i]["category"]["name"]+'<br><b>'+json[i]["title"]+'</b><br>Author: '+json[i]["author"]['username'] + '<br> ' + json[i]["description"]  + '<br>Valid Until:<br> '+ json[i]["date_expires"] + '</div>';
                              if (i == 0)
                                 str += '</a>';
                            }
                            /*console.log(json);*/
                            $('#results').html(str);
                        }
                    });
                }
                else if (texti ==="RESET") {
                    $('#results').html(' GONE BABY GONE <br />');
                }
                else if (texti ==="SHOW ONE POSTING") {
                    $.ajax({
                        url: "data3.json",
                        dataType: "json",
                        success: function(data) {
                            console.log(data);
                            $('#results').html('Post 1:  ' + data.category.name+'   /description: '+data.description+'   /author: '+data.author.username + '  /price: ' + data.price + '   /title: ' + data.title  + '   /date: '+ data.date_posted + "<br> ");
                        }
                    });
                }
                else if (texti ==="SHOW LIST") {
                    $.ajax({
                        url: "data2.json",
                        dataType: "text",
                        success: function(data) {
                            /*console.log(data);*/
                            var json = $.parseJSON(data);
                            var count1 = Object.keys(json).length;
                            console.log(count1);
                            var str = '<a href="/posting_detait_1.json" class="fancybox" data-fancybox-type="ajax">';
                            for (var i=0;i<count1;i++)
                            {
                              str += '<div id="listy"><font size="3">Post '+(i+1)+': <b>'+json[i]["title"]+'</b>     Author: '+json[i]["author"]['username'] + '     ' + json[i]["description"]  + '        Valid Until: '+ json[i]["date_expires"] + '</font></div>';
                              if (i == 0)
                                 str += '</a>';
                            }
                            /*console.log(json);*/
                            $('#results').html(str);
                        }
                    });
                }
            });
        $('.fancybox').fancybox();
    });
    </script>
</body>
</html>